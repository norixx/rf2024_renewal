{"version":3,"names":["rf_globals","window_state","breakpoint","rf_set_globals","settings","rf_get_globals","key","window","addEventListener","requestAnimationFrame","current_state","innerWidth","console","log","dispatchEvent","Event","document","querySelector","_open","_openSub","_currentSub","gnavID","openClass","gnavBtn","gnav","gnavSubContainer","gnavBtnClose","gnavToggles","querySelectorAll","gnavToggleTargets","Array","from","map","toggle","dataset","jsGnavSub","gnavClose","_hideGnav","classList","remove","forEach","target","_showGnav","add","e","id","contains","targetID","close","jsGnavSubClose","rf_gnav","toggles","toggleClass","dir","jsToggle","self","rf_toggles"],"sources":["../../src/js/partials/_globals.js","../../src/js/partials/_responsive.js","../../src/js/rf.js","../../src/js/partials/_gnav.js","../../src/js/partials/_toggles.js"],"sourcesContent":["let rf_globals = {\n  window_state: 'SP', // or PC\n  breakpoint: 768,\n}\n\nconst rf_set_globals = (settings) => {\n\n  rf_globals = {\n    ...rf_globals,\n    ...settings,\n  }\n}\n\nconst rf_get_globals = key => {\n  return rf_globals[key]\n}\n\nexport { rf_set_globals, rf_get_globals }","import { rf_get_globals, rf_set_globals } from './_globals'\n\nconst rf_responsive_check = () => {\n  window.addEventListener('resize', () => {\n    requestAnimationFrame(() => {\n      let current_state = rf_get_globals('window_state')\n\n      if (window.innerWidth < rf_get_globals('breakpoint') && current_state === 'PC') {\n        rf_set_globals({\n          window_state: 'SP',\n        })\n        console.log('SP')\n      } else if (window.innerWidth >= rf_get_globals('breakpoint') && current_state === 'SP') {\n        rf_set_globals({\n          window_state: 'PC',\n        })\n        console.log('PC')\n      }\n\n    })\n  })\n\n  // åˆå‹•\n  window.dispatchEvent(new Event('resize'))\n}\n\n\nexport default rf_responsive_check","// import rf_globals from './partials/_globals';\nimport rf_responsive_check from \"./partials/_responsive\";\nimport rf_gnav from \"./partials/_gnav\";\nimport rf_toggles from \"./partials/_toggles\";\n\n// =======================================================\n// Inits\n\n// Viewport checker (SP or PC)\nrf_responsive_check()\n\n// Global Navigation\nif (document.querySelector('[data-js-gnav]')) {\n  rf_gnav()\n}\n\n// Toggles\nif (document.querySelector('[data-js-toggle]')) {\n  rf_toggles()\n}\n","import { rf_get_globals } from './_globals'\n\nconst rf_gnav = () => {\n  let _open = false //ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹é–‰çŠ¶æ…‹\n  let _openSub = false // PCç”¨ - ã®Lv2ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹é–‰çŠ¶æ…‹\n  // let _current = null // ç¾åœ¨é–‹ã„ã¦ã„ã‚‹ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã®ID\n  let _currentSub = null // PCç”¨ - ç¾åœ¨é–‹ã„ã¦ã„ã‚‹Lv2ã®ID\n  const gnavID = 'gnav-main'\n  const openClass = '--is-open'\n  const lv1Flag = 'jsGnavLv1' // Lv1ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ•ãƒ©ã‚°(datasetå)\n  const gnavBtn = document.querySelector('#gnav-btn-open')\n  // const gnavBtnPC = document.querySelectorAll('[data-js-gnav-pc]')\n  const gnav = document.querySelector(`#${gnavID}`)\n  const gnavSubContainer = document.querySelector('#gnav-sub-container')\n  const gnavBtnClose = document.querySelector('[data-js-gnav-close]')\n  const gnavToggles = document.querySelectorAll('[data-js-gnav-sub]')\n  const gnavToggleTargets = Array.from(gnavToggles).map(toggle => document.querySelector(toggle.dataset.jsGnavSub))\n  const gnavClose = document.querySelectorAll(['[data-js-gnav-sub-close]'])\n\n  // Gnavã‚’é–‰ã˜ã‚‹ + ã™ã¹ã¦ã‚’é–‰ã˜ã‚‹\n  const _hideGnav = () => {\n    _open = false\n    gnav.classList.remove(openClass)\n\n    // PC ã‚µãƒ–ã‚³ãƒ³ãƒ†ãƒŠã‚’é–‰ã˜ã‚‹\n    _openSub = false\n    _currentSub = null\n    gnavSubContainer.classList.remove(openClass)\n\n    // openClassã‚’å…¨ã¦å‰Šé™¤\n    gnavToggleTargets.forEach(target => {\n      target.classList.remove(openClass)\n    })\n\n  }\n\n  // Gnavã‚’é–‹ã\n  const _showGnav = () => {\n    _open = true\n    gnav.classList.add(openClass)\n  }\n\n  // SP - Gnav(è‡ªä½“)ã‚’ã‚¿ãƒƒãƒ—ã—ãŸã‚‰é–‰ã˜ã‚‹\n  gnav.addEventListener('click', e => {\n    const target = e.target\n    // console.log(target.id)\n    if (target.id !== gnavID) return\n    _hideGnav()\n  })\n\n  // SP - Gnavã‚’é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³\n  gnavBtnClose.addEventListener('click', e => {\n    _hideGnav()\n  })\n\n  // SP - GnavðŸ”\n  gnavBtn.addEventListener('click', e => {\n    if (_open && gnav.classList.contains(openClass)) {\n      _hideGnav()\n    } else {\n      _showGnav()\n    }\n  })\n\n  // Gnav Toggles\n  gnavToggles.forEach(toggle => {\n    toggle.addEventListener('click', e => {\n      console.log('ã‚¯ãƒªãƒƒã‚¯å‰ã®Lv2: ', _currentSub)\n      const targetID = toggle.dataset.jsGnavSub\n\n      // PC - Lv1éƒ¨åˆ†ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸå ´åˆ\n      if (lv1Flag in toggle.dataset && rf_get_globals('window_state') === 'PC') {\n        console.log('PC Lv1 ã‚¯ãƒªãƒƒã‚¯: ', targetID)\n\n        // â–¼ ã‚µãƒ–ã‚³ãƒ³ãƒ†ãƒŠåˆ¶å¾¡\n        // 1. é–‹ã„ã¦ã„ã‚‹ + åŒã˜ => é–‰ã˜ã‚‹\n        if (_openSub && _currentSub === targetID) {\n          console.log('PC ã‚µãƒ–ã‚³ãƒ³ãƒ†ãƒŠé–‰ã˜ã‚‹')\n          _hideGnav()\n\n          return //å‡¦ç†ã¯ä¸­æ­¢\n        }\n        // 2. é–‹ã„ã¦ã„ã‚‹ + é•ã† => åˆ‡ã‚Šæ›¿ãˆã‚‹ï¼ˆé–‹ãï¼‰\n        if (_openSub && _currentSub !== targetID) {\n          console.log('PC ã‚µãƒ–ã‚³ãƒ³ãƒ†ãƒŠåˆ‡ã‚Šæ›¿ãˆ')\n\n          // 1ã¤å‰ã®ã‚µãƒ–ã‚³ãƒ³ãƒ†ãƒŠ\n          document.querySelector(_currentSub).classList.remove(openClass)\n        }\n\n        // 3. é–‹ã„ã¦ã„ãªã„ => é–‹ã\n        if (_openSub === false) {\n          _showGnav() // Gnavã‚’é–‹ã(SPç”¨ã ã‘ã©ä¸€å¿œå®Ÿè¡Œ)\n          gnavSubContainer.classList.add(openClass) //ã‚µãƒ–ã‚³ãƒ³ãƒ†ãƒŠã‚’é–‹ã\n          _openSub = true\n        }\n      }\n\n      _currentSub = targetID\n\n      console.log('ã‚¯ãƒªãƒƒã‚¯å¾Œã®Lv2: ', _currentSub)\n      console.log(_openSub)\n\n      // ã™ã¹ã¦\n      document.querySelector(targetID).classList.add(openClass)\n    })\n  })\n\n  gnavClose.forEach(close => {\n    close.addEventListener('click', e => {\n      const target = document.querySelector(close.dataset.jsGnavSubClose)\n      if (target.classList.contains(openClass)) target.classList.remove(openClass)\n    })\n  })\n\n\n}\n\nexport default rf_gnav","import { rf_get_globals, rf_set_globals } from './_globals'\n\nconst rf_toggles = () => {\n  const toggles = document.querySelectorAll('[data-js-toggle]')\n  const toggleSPClass = 'toggle-sp-only'\n  const togglePCClass = 'toggle-pc-only'\n  const toggleClass = '--is-open'\n\n  console.dir(toggles)\n  toggles.forEach(toggle => {\n    const target = document.querySelector(toggle.dataset.jsToggle)\n    // åˆå‹•\n    if (toggle.classList.contains(toggleClass) && !target.classList.contains(toggleClass)) {\n      target.classList.add(toggleClass)\n    }\n\n    // ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒã‚§ãƒƒã‚¯\n    toggle.addEventListener('click', e => {\n      const self = e.target\n\n      if (self.classList.contains(toggleSPClass) && rf_get_globals('window_state') !== 'SP') {\n        return\n      }\n      if (self.classList.contains(togglePCClass) && rf_get_globals('window_state') !== 'PC') {\n        return\n      }\n      self.classList.toggle(toggleClass)\n      // const target = document.querySelector(toggle.dataset.toggle)\n      target.classList.toggle(toggleClass)\n    })\n  })\n}\n\nexport default rf_toggles"],"mappings":"yBAAA,IAAIA,EAAa,CACfC,aAAc,KACdC,WAAY,KAGd,MAAMC,EAAkBC,IAEtBJ,EAAa,IACRA,KACAI,EACP,EAGMC,EAAiBC,GACdN,EAAWM,GCXlBC,OAAOC,iBAAiB,UAAU,KAChCC,uBAAsB,KACpB,IAAIC,EAAgBL,EAAe,gBAE/BE,OAAOI,WAAaN,EAAe,eAAmC,OAAlBK,GACtDP,EAAe,CACbF,aAAc,OAEhBW,QAAQC,IAAI,OACHN,OAAOI,YAAcN,EAAe,eAAmC,OAAlBK,IAC9DP,EAAe,CACbF,aAAc,OAEhBW,QAAQC,IAAI,MACpB,GAEK,IAIHN,OAAOO,cAAc,IAAIC,MAAM,WCX7BC,SAASC,cAAc,mBCVX,MACd,IAAIC,GAAQ,EACRC,GAAW,EAEXC,EAAc,KAClB,MAAMC,EAAS,YACTC,EAAY,YAEZC,EAAUP,SAASC,cAAc,kBAEjCO,EAAOR,SAASC,cAAc,IAAII,KAClCI,EAAmBT,SAASC,cAAc,uBAC1CS,EAAeV,SAASC,cAAc,wBACtCU,EAAcX,SAASY,iBAAiB,sBACxCC,EAAoBC,MAAMC,KAAKJ,GAAaK,KAAIC,GAAUjB,SAASC,cAAcgB,EAAOC,QAAQC,aAChGC,EAAYpB,SAASY,iBAAiB,CAAC,6BAGvCS,EAAY,KAChBnB,GAAQ,EACRM,EAAKc,UAAUC,OAAOjB,GAGtBH,GAAW,EACXC,EAAc,KACdK,EAAiBa,UAAUC,OAAOjB,GAGlCO,EAAkBW,SAAQC,IACxBA,EAAOH,UAAUC,OAAOjB,EAAS,GAClC,EAKGoB,EAAY,KAChBxB,GAAQ,EACRM,EAAKc,UAAUK,IAAIrB,EAAS,EAI9BE,EAAKhB,iBAAiB,SAASoC,IACdA,EAAEH,OAENI,KAAOxB,GAClBgB,GAAS,IAIXX,EAAalB,iBAAiB,SAASoC,IACrCP,GAAS,IAIXd,EAAQf,iBAAiB,SAASoC,IAC5B1B,GAASM,EAAKc,UAAUQ,SAASxB,GACnCe,IAEAK,GACN,IAIEf,EAAYa,SAAQP,IAClBA,EAAOzB,iBAAiB,SAASoC,IAC/BhC,QAAQC,IAAI,cAAeO,GAC3B,MAAM2B,EAAWd,EAAOC,QAAQC,UAGhC,GA9DY,cA8DGF,EAAOC,SAA8C,OAAnC7B,EAAe,gBAA0B,CAKxE,GAJAO,QAAQC,IAAI,gBAAiBkC,GAIzB5B,GAAYC,IAAgB2B,EAI9B,OAHAnC,QAAQC,IAAI,qBACZwB,IAKElB,GAAYC,IAAgB2B,IAC9BnC,QAAQC,IAAI,iBAGZG,SAASC,cAAcG,GAAakB,UAAUC,OAAOjB,KAItC,IAAbH,IACFuB,IACAjB,EAAiBa,UAAUK,IAAIrB,GAC/BH,GAAW,EAErB,CAEMC,EAAc2B,EAEdnC,QAAQC,IAAI,cAAeO,GAC3BR,QAAQC,IAAIM,GAGZH,SAASC,cAAc8B,GAAUT,UAAUK,IAAIrB,EAAS,GACzD,IAGHc,EAAUI,SAAQQ,IAChBA,EAAMxC,iBAAiB,SAASoC,IAC9B,MAAMH,EAASzB,SAASC,cAAc+B,EAAMd,QAAQe,gBAChDR,EAAOH,UAAUQ,SAASxB,IAAYmB,EAAOH,UAAUC,OAAOjB,EAAS,GAC5E,GACF,EDpGD4B,GAIElC,SAASC,cAAc,qBEfR,MACjB,MAAMkC,EAAUnC,SAASY,iBAAiB,oBAGpCwB,EAAc,YAEpBxC,QAAQyC,IAAIF,GACZA,EAAQX,SAAQP,IACd,MAAMQ,EAASzB,SAASC,cAAcgB,EAAOC,QAAQoB,UAEjDrB,EAAOK,UAAUQ,SAASM,KAAiBX,EAAOH,UAAUQ,SAASM,IACvEX,EAAOH,UAAUK,IAAIS,GAIvBnB,EAAOzB,iBAAiB,SAASoC,IAC/B,MAAMW,EAAOX,EAAEH,OAEXc,EAAKjB,UAAUQ,SAhBD,mBAgB+D,OAAnCzC,EAAe,iBAGzDkD,EAAKjB,UAAUQ,SAlBD,mBAkB+D,OAAnCzC,EAAe,kBAG7DkD,EAAKjB,UAAUL,OAAOmB,GAEtBX,EAAOH,UAAUL,OAAOmB,GAAW,GACpC,GACF,EFZDI,E"}