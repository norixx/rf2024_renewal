{"version":3,"names":["rf_globals","window_state","breakpoint","rf_set_globals","settings","rf_get_globals","key","window","addEventListener","requestAnimationFrame","current_state","innerWidth","console","log","dispatchEvent","Event","document","querySelector","toggles","querySelectorAll","toggleClass","dir","forEach","toggle","target","dataset","jsToggle","classList","contains","add","e","self","rf_toggles"],"sources":["../../src/js/partials/_globals.js","../../src/js/partials/_responsive.js","../../src/js/rf.js","../../src/js/partials/_toggles.js"],"sourcesContent":["let rf_globals = {\n  window_state: 'SP', // or PC\n  breakpoint: 768,\n}\n\nconst rf_set_globals = (settings) => {\n\n  rf_globals = {\n    ...rf_globals,\n    ...settings,\n  }\n}\n\nconst rf_get_globals = key => {\n  return rf_globals[key]\n}\n\nexport { rf_set_globals, rf_get_globals }","import { rf_get_globals, rf_set_globals } from './_globals'\n\nconst rf_responsive_check = () => {\n  window.addEventListener('resize', () => {\n    requestAnimationFrame(() => {\n      let current_state = rf_get_globals('window_state')\n\n      if (window.innerWidth < rf_get_globals('breakpoint') && current_state === 'PC') {\n        rf_set_globals({\n          window_state: 'SP',\n        })\n        console.log('SP')\n      } else if (window.innerWidth >= rf_get_globals('breakpoint') && current_state === 'SP') {\n        rf_set_globals({\n          window_state: 'PC',\n        })\n        console.log('PC')\n      }\n\n    })\n  })\n\n  // 初動\n  window.dispatchEvent(new Event('resize'))\n}\n\n\nexport default rf_responsive_check","// import rf_globals from './partials/_globals';\nimport rf_responsive_check from \"./partials/_responsive\";\nimport rf_toggles from \"./partials/_toggles\";\n\n// =======================================================\n// Inits\n\n// Viewport checker (SP or PC)\nrf_responsive_check()\n\n// Toggles\nif (document.querySelector('[data-js-toggle]')) {\n  rf_toggles()\n}\n","import { rf_get_globals, rf_set_globals } from './_globals'\n\nconst rf_toggles = () => {\n  const toggles = document.querySelectorAll('[data-js-toggle]')\n  const toggleSPClass = 'toggle-sp-only'\n  const togglePCClass = 'toggle-pc-only'\n  const toggleClass = '--is-open'\n\n  console.dir(toggles)\n  toggles.forEach(toggle => {\n    const target = document.querySelector(toggle.dataset.jsToggle)\n    // 初動\n    if (toggle.classList.contains(toggleClass) && !target.classList.contains(toggleClass)) {\n      target.classList.add(toggleClass)\n    }\n\n    // レスポンシブチェック\n    toggle.addEventListener('click', e => {\n      const self = e.target\n\n      if (self.classList.contains(toggleSPClass) && rf_get_globals('window_state') !== 'SP') {\n        return\n      }\n      if (self.classList.contains(togglePCClass) && rf_get_globals('window_state') !== 'PC') {\n        return\n      }\n      self.classList.toggle(toggleClass)\n      // const target = document.querySelector(toggle.dataset.toggle)\n      target.classList.toggle(toggleClass)\n    })\n  })\n}\n\nexport default rf_toggles"],"mappings":"yBAAA,IAAIA,EAAa,CACfC,aAAc,KACdC,WAAY,KAGd,MAAMC,EAAkBC,IAEtBJ,EAAa,IACRA,KACAI,EACP,EAGMC,EAAiBC,GACdN,EAAWM,GCXlBC,OAAOC,iBAAiB,UAAU,KAChCC,uBAAsB,KACpB,IAAIC,EAAgBL,EAAe,gBAE/BE,OAAOI,WAAaN,EAAe,eAAmC,OAAlBK,GACtDP,EAAe,CACbF,aAAc,OAEhBW,QAAQC,IAAI,OACHN,OAAOI,YAAcN,EAAe,eAAmC,OAAlBK,IAC9DP,EAAe,CACbF,aAAc,OAEhBW,QAAQC,IAAI,MACpB,GAEK,IAIHN,OAAOO,cAAc,IAAIC,MAAM,WCZ7BC,SAASC,cAAc,qBCTR,MACjB,MAAMC,EAAUF,SAASG,iBAAiB,oBAGpCC,EAAc,YAEpBR,QAAQS,IAAIH,GACZA,EAAQI,SAAQC,IACd,MAAMC,EAASR,SAASC,cAAcM,EAAOE,QAAQC,UAEjDH,EAAOI,UAAUC,SAASR,KAAiBI,EAAOG,UAAUC,SAASR,IACvEI,EAAOG,UAAUE,IAAIT,GAIvBG,EAAOf,iBAAiB,SAASsB,IAC/B,MAAMC,EAAOD,EAAEN,OAEXO,EAAKJ,UAAUC,SAhBD,mBAgB+D,OAAnCvB,EAAe,iBAGzD0B,EAAKJ,UAAUC,SAlBD,mBAkB+D,OAAnCvB,EAAe,kBAG7D0B,EAAKJ,UAAUJ,OAAOH,GAEtBI,EAAOG,UAAUJ,OAAOH,GAAW,GACpC,GACF,EDlBDY,E"}