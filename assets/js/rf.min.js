!function(){"use strict";var e,t,s,o,i={exports:{}},a=i.exports;
/*!
   * Toastify js 1.12.0
   * https://github.com/apvarun/toastify-js
   * @license MIT licensed
   *
   * Copyright (C) 2018 Varun A P
   */e||(e=1,s=a,o=function(e){var t=function(e){return new t.lib.init(e)};function s(e,t){return t.offset[e]?isNaN(t.offset[e])?t.offset[e]:t.offset[e]+"px":"0px"}function o(e,t){return!(!e||"string"!=typeof t||!(e.className&&e.className.trim().split(/\s+/gi).indexOf(t)>-1))}return t.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},t.lib=t.prototype={toastify:"1.12.0",constructor:t,init:function(e){return e||(e={}),this.options={},this.toastElement=null,this.options.text=e.text||t.defaults.text,this.options.node=e.node||t.defaults.node,this.options.duration=0===e.duration?0:e.duration||t.defaults.duration,this.options.selector=e.selector||t.defaults.selector,this.options.callback=e.callback||t.defaults.callback,this.options.destination=e.destination||t.defaults.destination,this.options.newWindow=e.newWindow||t.defaults.newWindow,this.options.close=e.close||t.defaults.close,this.options.gravity="bottom"===e.gravity?"toastify-bottom":t.defaults.gravity,this.options.positionLeft=e.positionLeft||t.defaults.positionLeft,this.options.position=e.position||t.defaults.position,this.options.backgroundColor=e.backgroundColor||t.defaults.backgroundColor,this.options.avatar=e.avatar||t.defaults.avatar,this.options.className=e.className||t.defaults.className,this.options.stopOnFocus=void 0===e.stopOnFocus?t.defaults.stopOnFocus:e.stopOnFocus,this.options.onClick=e.onClick||t.defaults.onClick,this.options.offset=e.offset||t.defaults.offset,this.options.escapeMarkup=void 0!==e.escapeMarkup?e.escapeMarkup:t.defaults.escapeMarkup,this.options.ariaLive=e.ariaLive||t.defaults.ariaLive,this.options.style=e.style||t.defaults.style,e.backgroundColor&&(this.options.style.background=e.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var e=document.createElement("div");for(var t in e.className="toastify on "+this.options.className,this.options.position?e.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?e.className+=" toastify-left":e.className+=" toastify-right",e.className+=" "+this.options.gravity,this.options.backgroundColor,this.options.style)e.style[t]=this.options.style[t];if(this.options.ariaLive&&e.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)e.appendChild(this.options.node);else if(this.options.escapeMarkup?e.innerText=this.options.text:e.innerHTML=this.options.text,""!==this.options.avatar){var o=document.createElement("img");o.src=this.options.avatar,o.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?e.appendChild(o):e.insertAdjacentElement("afterbegin",o)}if(!0===this.options.close){var i=document.createElement("button");i.type="button",i.setAttribute("aria-label","Close"),i.className="toast-close",i.innerHTML="&#10006;",i.addEventListener("click",function(e){e.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var a=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&a>360?e.insertAdjacentElement("afterbegin",i):e.appendChild(i)}if(this.options.stopOnFocus&&this.options.duration>0){var n=this;e.addEventListener("mouseover",(function(t){window.clearTimeout(e.timeOutValue)})),e.addEventListener("mouseleave",(function(){e.timeOutValue=window.setTimeout((function(){n.removeElement(e)}),n.options.duration)}))}if(void 0!==this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&e.addEventListener("click",function(e){e.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var r=s("x",this.options),l=s("y",this.options),d="left"==this.options.position?r:"-"+r,c="toastify-top"==this.options.gravity?l:"-"+l;e.style.transform="translate("+d+","+c+")"}return e},showToast:function(){var e;if(this.toastElement=this.buildToast(),!(e="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var s=t.defaults.oldestFirst?e.firstChild:e.lastChild;return e.insertBefore(this.toastElement,s),t.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(e){e.className=e.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),e.parentNode&&e.parentNode.removeChild(e),this.options.callback.call(e),t.reposition()}.bind(this),400)}},t.reposition=function(){for(var e,t={top:15,bottom:15},s={top:15,bottom:15},i={top:15,bottom:15},a=document.getElementsByClassName("toastify"),n=0;n<a.length;n++){e=!0===o(a[n],"toastify-top")?"toastify-top":"toastify-bottom";var r=a[n].offsetHeight;e=e.substr(9,e.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(a[n].style[e]=i[e]+"px",i[e]+=r+15):!0===o(a[n],"toastify-left")?(a[n].style[e]=t[e]+"px",t[e]+=r+15):(a[n].style[e]=s[e]+"px",s[e]+=r+15)}return this},t.lib.init.prototype=t.lib,t},(t=i).exports?t.exports=o():s.Toastify=o()),i.exports,window.RF_GLOBALS={},window.RF_GLOBALS.RF_CONFIG={window_state:"PC",breakpoint:768};const n=e=>{window.RF_GLOBALS.RF_CONFIG={...window.RF_GLOBALS.RF_CONFIG,...e}},r=e=>RF_GLOBALS.RF_CONFIG[e];class l{#e={target:document.body,msg:"Loading...",size:"md",style:"--bg-black",loaderClass:"c-loader",loader:null};constructor(e=null){this.#e={...this.#e,...e},this.#t()}#s(e){"string"==typeof e?this.#e.target.insertAdjacentHTML("beforeend",e):"object"==typeof e&&this.#e.target.insertAdjacentElement("beforeend",e),this.#e.loader||(this.#e.loader=this.#e.target.querySelector("."+this.#e.loaderClass))}removeLoader(){this.#e.loader.remove()}reinsertLoader(){this.#s(this.#e.loader)}#o(){let e="";"md"!==this.#e.size&&(e=`--${this.#e.size}`);const t=`<div class="${this.#e.loaderClass} ${this.#e.style} ${e}"></div>`;this.#s(t)}#t(){this.#o()}}class d{#i;#a;#n={status:null,elements:null};#r;#l={get(e,t){const s=Array.prototype.slice.call(e.elements).some((e=>e.checked));return e[t]=s,e[t]}};constructor(e,t){if(!e||!t)throw new Error("No Form selected!");this.#i=e,this.#a=t,this.#n.elements=this.#a,this.#r=new Proxy(this.#n,this.#l)}getStatus(){return this.#r.status}}class c{#i;#d=[];#c=[];constructor(e){this.#i=e,this.#d=Array.from(this.#i.querySelectorAll("[data-js-checkboox-combo-group]")),this.#d.forEach((e=>{this.#c.push({parent:e.querySelector("[data-js-checkbox-combo-parent]"),elements:Array.from(e.querySelectorAll("[data-js-checkbox-combo-target]"))})})),this.#t()}getCheckedStatus=()=>this.#i.querySelectorAll('input[type="checkbox"][data-js-checkbox-combo-target]:checked').length>0;setParentCheckbox=()=>{this.#c.forEach((e=>{const t=e.parent,s=e.elements;t.addEventListener("change",(()=>{s.forEach((e=>{e.checked=t.checked}))}))}))};setChildCheckbox=()=>{this.#c.forEach((e=>{const t=e.parent,s=e.elements;s.forEach((e=>{e.addEventListener("change",(()=>{const e=s.every((e=>e.checked)),o=s.some((e=>e.checked));e?(t.checked=!0,t.indeterminate=!1):o?(t.checked=!1,t.indeterminate=!0):(t.checked=!1,t.indeterminate=!1)}))}))}))};#t=()=>{this.setParentCheckbox(),this.setChildCheckbox()}}class h{#h="--is-modal-open";#m="--is-open";#p=document.documentElement;#u;#f;#b;#w="jsModalTarget";#S=[];#g={};constructor(e=null){e?this.modal(e):(this.#u=Array.from(document.querySelectorAll("[data-js-modal-target]")),this.#f=Array.from(document.querySelectorAll("[data-js-modal]")),this.#b=Array.from(document.querySelectorAll("[data-js-ajax-modal]")),this.#y(),this.#v())}on(e,t){this.#g[e]||(this.#g[e]=[]),this.#g[e].push(t)}async#L(e,t=null){if(this.#g[e]){const s=this.#g[e].map((e=>Promise.resolve(e(t))));return Promise.all(s)}}openModal(e){document.querySelector(e).classList.add(this.#m),this.#p.classList.add(this.#h),this.#S.push(e)}#E(e){(e instanceof Element?[e]:Array.from(e)).forEach((e=>{const t=e.dataset.jsModal;e.addEventListener("click",(s=>{"A"!==e.tagName&&"BUTTON"!==e.tagName||s.preventDefault(),this.openModal(t)}))}))}#y(){this.#f.forEach((e=>{this.#E(e)}))}async closeModal(e){await this.#L("beforeClose",e);const t=this.#S.indexOf(e);this.#S.splice(t,1),e.classList.remove(this.#m),0===this.#S.length&&this.#p.classList.remove(this.#h)}#k(e){e.addEventListener("click",(t=>{this.#w in t.target.dataset&&this.closeModal(e)}));e.querySelectorAll("[data-js-modal-close]").forEach((t=>{t.addEventListener("click",(()=>{this.closeModal(e)}))}))}#v(){this.#u.forEach((e=>{this.#k(e)}))}setModalOpenBtn(e){this.#E(e)}setModal(e){this.#k(e)}modal(e){"modalOpenBtn"in e&&this.setModalOpenBtn(e.modalOpenBtn),"modal"in e&&this.setModal(e.modal)}}const m=()=>{let e=null,t=null;const s=document.querySelectorAll("[data-js-madori-modal]"),o="madori-modal",i="madori-container";RF_GLOBALS.hasOwnProperty("rf_modals")||(RF_GLOBALS.rf_modals=new RF_GLOBALS.RfModals);s.length>0&&s.forEach((s=>{s.addEventListener("click",(async()=>{document.querySelector(".c-buildroom-modal.--madori-modal")||(()=>{const s=`\n      <div class="c-buildroom-modal --madori-modal c-modal" id="${o}" data-js-modal-target>\n        <button type="button" data-js-buildroom-modal-close data-js-modal-close class="c-buildroom-modal__close"><span class="u-visually-hidden">閉じる</span></button>\n        <div class="c-buildroom-modal__container" id="${i}"></div>\n      </div>\n    `;document.body.insertAdjacentHTML("beforeend",s),e=document.querySelector("#"+o),t=e.querySelector("#"+i),RF_GLOBALS.rf_modals.on("beforeClose",(e=>{e.id===o&&(e.querySelector("#"+i).innerHTML="")})),RF_GLOBALS.rf_modals.modal({modal:e})})(),t.innerHTML="",RF_GLOBALS.rf_modals.openModal("#"+o);const a=new RF_GLOBALS.RfLoader({target:document.querySelector("#"+i),size:"sm"}),n=s.dataset.jsMadoriPhoto;if(n)try{const e=await(r=n,new Promise(((e,t)=>{const s=new Image;s.onload=()=>{e(s)},s.onerror=()=>{s.src="/assets/img/common/nophoto.webp",e(s)},s.src=r})));a.removeLoader(),t.innerHTML="",t.appendChild(e)}catch(e){t.innerHTML="",a.removeLoader()}var r}))}))},p=()=>{const e=document.querySelectorAll("[data-js-toggle]"),t="data-js-toggle",s="data-js-toggle-text",o=document.documentElement,i="--is-open";(()=>{o.addEventListener("click",(e=>{const o=e.target;let a;if(o.hasAttribute(t))a=o;else{if(!o.closest(`[${t}]`))return;a=o.closest(`[${t}]`)}a.classList.contains("toggle-sp-only")&&"SP"!==r("window_state")||a.classList.contains("toggle-pc-only")&&"PC"!==r("window_state")||(e=>{const t=document.querySelector(e.dataset.jsToggle);if(e.classList.toggle(i),e.setAttribute("aria-expanded",e.classList.contains(i)),t&&(t.classList.toggle(i),t.setAttribute("aria-hidden",!e.classList.contains(i))),!e.hasAttribute(s))return;let o=e.getAttribute(s);e.setAttribute(s,e.textContent),e.textContent=o})(a)}))})(),e.forEach((e=>{(e=>{const t=document.querySelector(e.dataset.jsToggle);if(e.classList.contains(i)&&!t.classList.contains(i)&&(t.classList.add(i),e.setAttribute(s,e.textContent),e.textContent=o),!e.hasAttribute(s))return;let o;o=e.dataset.jsToggleText})(e)}))},u=()=>{const e={navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{0:{slidesPerView:1.3,spaceBetween:16,slidesOffsetAfter:16,slidesOffsetBefore:16},768:{slidesPerView:4.3,spaceBetween:24,slidesOffsetAfter:24,slidesOffsetBefore:24}}};new Swiper("[data-js-top-banners]",e)},f=()=>{const e=document.querySelector("[data-js-today-target]"),t=e.querySelectorAll("[data-js-today]"),s=async()=>{try{const e=await fetch("/rf/today");if(!e.ok||404===e.status)throw new Error("fetch error");(e=>{const s=(new DOMParser).parseFromString(e,"text/html"),o=JSON.parse(s.querySelector("#todays-data").textContent);t.forEach((e=>{e.textContent=o[e.dataset.jsToday]}))})(await e.text())}catch(t){e.insertAdjacentHTML("beforeend",'<p class="u-color-alert u-fz-14 u-ta-center">件数取得エラーが発生しました</p>')}};(async()=>{s()})()},b=()=>{const e=document.querySelectorAll("[data-js-prop-slider]");let t={};const s={navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".c-prop-slider__pagination",type:"progressbar"},breakpoints:{0:{spaceBetween:16,slidesPerView:1.2,slidesOffsetBefore:32,slidesOffsetAfter:32},768:{spaceBetween:24,slidesPerView:4.4,slidesOffsetBefore:40,slidesOffsetAfter:40}}};e.forEach((e=>{const o=new Swiper(e,s);t[e.id]=o}))};class w{#_={mainSlide:null,thumbSlide:null,modalMainSlide:null,modalThumbSlide:null};#T=null;#j={build:[],floorplan:[],exterior:[],panorama:[]};#M={build:[],exterior:[],floorplan:[],panorama:[]};#A={ja:{build:"建物",exterior:"外観・共用部・周辺",floorplan:"間取り・部屋",panorama:"パノラマ・動画"},en:{build:"Building",exterior:"Exterior, common spaces, and surroundings",floorplan:"Floor plan &amp; Room",panorama:"Panoramas and videos"}};#O=null;#x=!0;#C={build:!0,floorplan:!0,exterior:!0,panorama:!0};#q={navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",type:"fraction"},zoom:!0};#P={slidesPerView:4.5,freeMode:!0,spaceBetween:8,breakpoints:{0:{slidesPerView:4.5},768:{slidesPerView:8.5}}};#R={slidesPerView:4.5,freeMode:!0,spaceBetween:8,breakpoints:{0:{slidesPerView:4.5},768:{slidesPerView:12.5}},zoom:!0};#F={ja:{nodata:"データを取得できません"},en:{nodata:"Failed to get data"}};#B=document.querySelector("[data-js-buildroom-slide]");#N=this.#B.querySelector("[data-js-buildroom-slide-container]");#H=this.#B.querySelector(".swiper");#G=this.#H.querySelector(".swiper-wrapper");#W=this.#B.querySelector("[data-js-buildroom-slide-thumbs-container]");#D=this.#B.querySelector("[data-js-buildroom-slide-thumbs]");#$=this.#D.querySelector(".swiper-wrapper");#I=document.querySelector("[data-js-buildroom-modal]");#V=this.#I.querySelector(".swiper");#z=this.#V.querySelector(".swiper-wrapper");#U=this.#I.querySelector("[data-js-buildroom-modal-thumbs]");#J=this.#U.querySelector(".swiper-wrapper");#Q='<button class="c-buildroom-slide__btn-open --modal --is-hidden" data-js-buildroom-modal-open data-js-modal type="button">\n    <span class="u-visually-hidden">拡大</span>\n    </button>';#Y=null;#K='<button class="c-buildroom-slide__btn-open --panorama --is-hidden" data-js-buildroom-panorama-open type="button">';#X=null;#Z=document.querySelector("[data-js-buildroom-slide-tab-container]");#ee=null;#te=!1;constructor(){this.#t()}#se(){for(;this.#G.firstChild;)this.#G.removeChild(this.#G.firstChild);const e=`<div class="swiper-slide"><img src="${RF_gallery_nophoto}" alt="No photo" class="c-buildroom-slide__nodata"></div>`;this.#G.insertAdjacentHTML("beforeend",e),this.#B.classList.add("--is-slide-disabled")}#oe(e){RF_lang;return`<p class="c-buildroom-slide__error">${this.#F[RF_lang][e]}</p>`}#ie(e){"nodata"===e&&(this.#oe(e),this.#se())}#ae(){this.#N.classList.remove("--is-loading")}#ne(e){this.#O=e}#re(){return this.#O}#le(e){return this.#j[e]}#de(e,t){this.#j[e]=t}#ce(e){return this.#M[e]}#he(e,t){this.#M[e]=t}#me(){this.#W.classList.remove("--is-hidden")}#pe(){this.#ue(!1),this.#_.mainSlide.disable(),this.#_.thumbSlide.disable(),this.#W.classList.add("--is-hidden")}#fe(){this.#W.classList.remove("--is-hidden")}#be(){this.#ue(!1),this.#_.mainSlide.disable(),this.#_.thumbSlide.disable(),this.#W.classList.add("--is-hidden")}#we(){this.#_.mainSlide.removeAllSlides(),this.#_.thumbSlide.removeAllSlides(),this.#_.modalMainSlide.removeAllSlides(),this.#_.modalThumbSlide.removeAllSlides()}#ue(e=!1,t=!1){const s="--is-hidden";e?t?(this.#Y.classList.add(s),this.#X.classList.remove(s)):(this.#Y.classList.remove(s),this.#j.panorama.length>0&&this.#X.classList.add(s)):(this.#Y.classList.add(s),this.#j.panorama.length>0&&this.#X.classList.add(s))}#Se(e){const t=this.#re();this.#_.modalMainSlide.removeAllSlides(),this.#_.modalThumbSlide.removeAllSlides();const s=this.#ce(t);this.#_.modalMainSlide.appendSlide(s),this.#_.modalThumbSlide.appendSlide(s),this.#_.modalThumbSlide.update(),this.#_.modalMainSlide.update(),this.#_.modalMainSlide.slideTo(e),this.#_.modalThumbSlide.slideTo(e)}#ge(e){this.#we();const t=this.#ce(e);this.#_.thumbSlide.appendSlide(t),this.#_.thumbSlide.update(),this.#_.thumbSlide.slideTo(0),this.#_.mainSlide.appendSlide(t),this.#_.mainSlide.update(),this.#_.mainSlide.slideTo(0),this.#C[e]&&(this.#_.mainSlide.enable(),this.#_.thumbSlide.enable(),this.#me(),this.#ue(!0,"panorama"===e)),this.#ne(e)}#ye(e,t=!1){let s=[];return e.forEach((e=>{let o="",i="";t&&(o=`data-js-buildroom-panorama="${e.url}"`,i=`<button class="c-buildroom-slide__btn-popup" data-js-buildroom-panorama-popup="${e.url}" type="button"></button>`);const a="build"===RF_page_key?RF_gallery_nophoto:RF_gallery_nofloorplan;s.push(`<div class="swiper-slide" ${o}>\n                    <div class="swiper-zoom-container">\n                        <img src="${t?e.filename:e}" alt="" class="" loading="lazy" onerror="this.onerror='';this.src='${a}'">\n                        ${i}\n                    </div>\n                </div>`)})),s}async#ve(e){await e.decode()}async#Le(e,t=!1){let s=0,o=0,i=0;i=e.length>3?3:e.length;let a=new Promise(((a,n)=>{e.forEach((async e=>{const r=new Image;r.src=t?e.filename:e;try{s++,await this.#ve(r),s>=i&&a(!0)}catch(e){o++,o>=i&&n(!0),s>=i&&a(!0)}})),setTimeout((()=>{n(!1)}),3e4)}));return await a}async#Ee(e){let t=null;const s=this.#le(e);try{await this.#Le(s,"panorama"===e);t=this.#ye(s,"panorama"===e)}catch(s){if(s){this.#j[e]=[{filename:RF_gallery_nophoto}];const s=this.#le(e);t=this.#ye(s),this.#C[e]=!1}}finally{const s=this.#j[e][0].substring(this.#j[e][0].lastIndexOf("/")+1),o=RF_gallery_nophoto.substring(RF_gallery_nophoto.lastIndexOf("/")+1);1===this.#j[e].length&&s===o&&(this.#C[e]=!1),this.#he(e,t)}}#ke(){const e=this.#H.querySelector(".swiper-slide-active").dataset.jsBuildroomPanorama;window.open(e,"","width=800,height=600,left=0,top=0,menubar=no,status=no")}#_e(e){const t=e.dataset.jsBuildroomPanoramaPopup;window.open(t,"","width=800,height=600,left=0,top=0,menubar=no,status=no")}#Te(){this.#N.insertAdjacentHTML("beforeend",this.#K),this.#X=this.#N.querySelector("[data-js-buildroom-panorama-open]"),this.#X.addEventListener("click",(()=>{this.#ke()}))}#je(){this.#N.addEventListener("click",(e=>{e.target.dataset.jsBuildroomPanoramaPopup&&this.#_e(e.target)}))}#Me(){this.#N.insertAdjacentHTML("beforeend",this.#Q),this.#Y=this.#N.querySelector("[data-js-buildroom-modal-open]"),this.#Y.dataset.jsModal="#"+this.#I.id}#Ae(){this.#ee.forEach((e=>{let t=!1;e.addEventListener("click",(async e=>{const s=e.target.dataset.jsBuildroomSlideTab;if(!t)if(t=!0,this.#re()!==s)if(this.#ue(!1),this.#_.mainSlide.disable(),this.#_.thumbSlide.disable(),this.#ee.forEach((e=>{e.classList.remove("--is-active")})),"BUTTON"===e.target.tagName&&e.target.classList.add("--is-active"),this.#ce(s).length)this.#ge(s),this.#C[s]||this.#be(),t=!1;else{this.#T.reinsertLoader();const e=this.#le(s),o=this.#ye(e,"panorama"===s);this.#he(s,o);try{await this.#Le(e,"panorama"===s)}catch(e){}finally{this.#T.removeLoader(),this.#ae(),this.#ge(s),this.#C[s]||this.#be(),t=!1}}else t=!1}))}))}#Oe(e){let t=RF_lang;return`<button type="button" data-js-buildroom-slide-tab="${e}" type="button">${this.#A[t][e]}</button>`}#xe(){let e="";for(let t in this.#j)("build"!==RF_page_key||"build"!==t&&"exterior"!==t&&"panorama"!==t)&&("room"!==RF_page_key||"room"!==t&&"exterior"!==t&&"floorplan"!==t&&"panorama"!==t)||this.#j[t].length>0&&(e+=this.#Oe(t));this.#Z.insertAdjacentHTML("beforeend",e),this.#ee=Array.from(this.#Z.querySelectorAll("[data-js-buildroom-slide-tab]"));const t=this.#re();this.#ee.filter((e=>e.dataset.jsBuildroomSlideTab===t))[0].classList.add("--is-active"),this.#Ae()}#Ce(){this.#Y.addEventListener("click",(()=>{this.#Se(this.#_.mainSlide.activeIndex)}))}#qe(){this.#Me(),this.#j.panorama.length>0&&(this.#Te(),this.#te||(this.#je(),this.#te=!0));const e=this.#re();this.#ue(!0,"panorama"===e);const t={modal:this.#I,modalOpenBtn:this.#Y};RF_GLOBALS.rf_modals?RF_GLOBALS.rf_modals.modal(t):RF_GLOBALS.rf_modals=new RF_GLOBALS.RfModals(t),this.#Ce()}#Pe(){this.#_.thumbSlide=new Swiper(this.#D,this.#P);let e={...this.#q,thumbs:{swiper:this.#_.thumbSlide}};this.#_.mainSlide=new Swiper(this.#H,e),this.#_.modalThumbSlide=new Swiper(this.#U,this.#R);let t={...this.#q,thumbs:{swiper:this.#_.modalThumbSlide}};this.#_.modalMainSlide=new Swiper(this.#V,t),this.#_.modalThumbSlide.controller.control=[this.#_.thumbSlide],this.#_.thumbSlide.controller.control=[this.#_.modalThumbSlide],this.#_.mainSlide.controller.control=[this.#_.modalMainSlide],this.#_.modalMainSlide.controller.control=[this.#_.mainSlide]}#Re(e){let t="";this.#ce(e).forEach((e=>{t+=e})),this.#G.insertAdjacentHTML("beforeend",t),this.#$.insertAdjacentHTML("beforeend",t)}async#Fe(){let e="";for("build"===RF_page_key?e=Object.keys(this.#j).find((e=>"floorplan"!==e&&"room"!==e&&(this.#j[e].length>0||void 0))):"room"===RF_page_key&&(e="floorplan"),this.#ne(e),await this.#Ee(e);this.#G.firstChild;)this.#G.removeChild(this.#G.firstChild);this.#Re(e),this.#Pe(),this.#qe(),this.#xe();const t=this.#re();this.#C[t]||this.#be(),this.#T.removeLoader(),this.#ae()}#Be(e,t){switch(t){case"001":this.#j.build.push(e);break;case"101":this.#j.floorplan.push(e)}}#Ne(e){e.forEach((e=>{switch(e.part){case"000":case"001":case"002":case"003":case"004":case"005":this.#j.exterior.push(e.filename)}}))}#He(e){e.forEach((e=>{switch(e.part){case"002":case"003":case"004":case"005":this.#j.build.push(e.filename);break;case"031":case"032":case"033":case"034":case"035":case"036":case"037":case"038":case"039":this.#j.exterior.push(e.filename);break;case"102":case"103":case"104":case"105":case"106":case"108":case"109":case"110":case"111":case"131":case"132":case"133":case"135":case"136":this.#j.floorplan.push(e.filename)}}))}#Ge(){"undefined"!=typeof RF_gallery_panorama&&RF_gallery_panorama.forEach((e=>{this.#j.panorama.push({filename:e.filename,url:e.url})}))}async#We(){this.#T=new RF_GLOBALS.RfLoader({target:this.#G}),this.#Ge();let e=!1,t=new Image;try{"build"===RF_page_key?t.src=RF_firstbuild_photo:"room"===RF_page_key&&(t.src=RF_firstfloorplan_photo),await this.#ve(t),e=!0}catch(e){"build"===RF_page_key?t.src=RF_gallery_nophoto:"room"===RF_page_key&&(t.src=RF_gallery_nofloorplan)}finally{let e;"build"===RF_page_key?e="001":"room"===RF_page_key&&(e="101"),this.#Be(t.src,e)}try{const t=await fetch(RF_gallery_url),s=await t.json();let o=[];if("room"===RF_page_key){let e=await fetch(RF_gellery_tatemono_url);o=await e.json()}if("build"===RF_page_key&&!e&&!s.length&&"undefined"==typeof RF_firstbuild_photo)throw"No data";if("room"===RF_page_key&&!e&&!s.length&&!o.length&&"undefined"==typeof RF_firstbuild_photo)throw"No data";this.#He(s),"room"===RF_page_key&&o.length>0&&this.#Ne(o),this.#Fe()}catch(e){this.#ie("nodata"),this.#T.removeLoader(),this.#ae()}}async#t(){try{this.#We()}catch(e){}}}const S=()=>{const e=document.querySelectorAll("[data-js-related-prop-slider]"),t=[],s={navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".c-prop-slider__pagination",type:"progressbar"},init:!1,breakpoints:{0:{spaceBetween:16,slidesPerView:1.4,slidesOffsetBefore:32,slidesOffsetAfter:32},768:{spaceBetween:24,slidesPerView:3.5,slidesOffsetBefore:40,slidesOffsetAfter:40}}},o=()=>{t.forEach((e=>{e.on("init",(()=>{const t=e.el.querySelector(".c-prop-slider__loader");t&&t.remove()})),e.init()}))};e.forEach((e=>{const o=new Swiper(e,s);t.push(o)})),o()},g=()=>{const e="jsWardSelect";document.querySelector("#sys-form");const t=Array.from(document.querySelectorAll("[data-js-ward-select]")),s=t.filter((e=>"INPUT"===e.tagName)),o=t.filter((e=>"g"===e.tagName));let i=[],a=[];const n=()=>a,r=()=>i,l=()=>{t.forEach((t=>{t.addEventListener("click",(()=>{let l=!0;var d;d=n(),i=[...d];const c=t.dataset.jsWardSelect;n().includes(c)?(l=!1,(e=>{const t=a.indexOf(e);a.splice(t,1)})(c)):(e=>{a.push(e)})(c),((t,i)=>{let a=null;a=t?n().filter((e=>!r().includes(e))):r().filter((e=>!n().includes(e))),i.tagName,a.forEach((i=>{const[a]=o.filter((t=>t.dataset[e]===i)),[n]=s.filter((t=>t.dataset[e]===i));a.classList.toggle("--is-active",t),n.checked=t}))})(l,t)}))}))};t.forEach((e=>{"INPUT"===e.tagName&&(e.setAttribute("autocomplete","off"),e.checked=!1)})),l()},y=()=>{const e=document.querySelectorAll("[data-js-result-room-slide]"),t="--is-disabled",s="c-result-room__flash-msg";let o={};const i=["102","103","104","105"],a={navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},n="これ以上画像はありません",r="データ取得エラー",l=(e,t)=>{let o="";if("no_img"===e)o=n,t.classList.add("--is-no-slide");else o=r;((e,t)=>{if(t.querySelector(`.${s}`))return;const o=`<p class="${s}">${e}</p>`;t.insertAdjacentHTML("beforeend",o);const i=t.querySelector(`.${s}`);i.addEventListener("transitionend",(()=>{i.remove()})),setTimeout((()=>{i.classList.add("--is-deactive")}),3e3)})(o,t)},d=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error("fetch_err");const s=(e=>e.filter((e=>i.includes(e.part))))(await t.json());if(s.length>1)return s;throw new Error("no_img")}catch(e){return e.message}};async function c(e,s){const[i]=e,n=i.dataset.jsResultRoomSlide,r=i.closest("[data-js-result-room-parent]");if(i.classList.contains(t))return!1;const c=new RF_GLOBALS.RfLoader({target:r});i.classList.add(t);try{const e=await d(n);if("object"!=typeof e||!JSON.parse(JSON.stringify(e)))throw new Error(e);{const t=i.closest(".swiper"),s=i.dataset.jsResultRoomId;i.removeEventListener("click",o[s]),delete o[s],((e,t)=>{let s="";e.forEach((e=>{s+=`<div class="c-result-room__slide-item swiper-slide">\n      <img src="${e.filename}" alt="${e.name}" loading="lazy" onerror="this.onerror='';this.src='${RF_gallery_nophoto}'">\n      </div>`})),t.querySelector(".swiper-wrapper").insertAdjacentHTML("beforeend",s),new Swiper(t,a).slideTo(1)})(e,t)}}catch(e){l(e.message,r)}i.classList.remove(t),c.removeLoader()}(()=>{e.forEach((e=>{e.addEventListener("click",(()=>{(e=>{const t=e.dataset.jsResultRoomId;o[t]=c.bind(null,[e]),e.addEventListener("click",o[t]),e.click()})(e)}),{once:!0})}))})()},v=()=>{const e=document.querySelectorAll("[data-js-form-checkbox]"),t="form-ensen-step1",s=[t];let o=[];function i(){const e=this.checker.getStatus();if(this.formId===t){((e,t)=>{const s=!t;e.classList.toggle("--is-disabled",s),s?e.setAttribute("disabled","disabled"):e.removeAttribute("disabled")})(document.querySelector("#form-ensen-submit"),e)}}const a=()=>{0!==o.length&&o.forEach((e=>{const t=i.bind(e);e.elements.forEach((e=>{e.addEventListener("change",t)})),e.elements[0].dispatchEvent(new Event("change"))}))};(e=>{e.forEach((e=>{const t=e.id;let i;try{if(!t)throw new Error("Please provide form id");if(!s.includes(t))throw new Error("This form is not set for checkbox checks");if(i=e.querySelectorAll("input[type=checkbox][data-js-checkbox-target]"),0===i.length)throw new Error("Target checkbox does not exist.")}catch(e){return}o.push({formId:t,checker:new RF_GLOBALS.RfCheckboxStatus(e,i),elements:i})})),a()})(e)},L=()=>{const e=document.querySelectorAll("[data-js-form-search-area-checkbox]"),t=["sys-form"];e.forEach((e=>{const s=e.id;let o;try{if(!s)throw new Error("Please provide form id");if(!t.includes(s))throw new Error("This form is not set for checkbox checks");if(o=e.querySelectorAll("input[type=checkbox][data-js-checkbox-combo-target]"),0===o.length)throw new Error("Target checkbox does not exist.")}catch(e){return}new RF_GLOBALS.RfCheckBoxCombo(e)}))};class E{#De;#$e;#Ie=768;#Ve=matchMedia(`(min-width: ${this.#Ie}px)`);constructor(e,t,s=this.#Ie){this.#De=e,this.#$e=t,this.#Ie=s,this.#Ve=matchMedia(`(min-width: ${s}px)`),this.#ze()}#ze(){this.#Ve.addEventListener(this.#$e,this.#De),this.#Ve.dispatchEvent(new Event(this.#$e))}}const k=()=>{const e=document.querySelector("[data-js-search-change-method]");let t;const s={content:e=>{const t=e.dataset.jsSearchMethod;return document.querySelector(t),document.querySelector(t)},animation:"shift-away",interactive:!0,interactiveBorder:10,trigger:"click",delay:[null,300],arrow:tippy.roundArrow,theme:"rf"},o={placement:"bottom"},i={placement:"right"},a=e=>{let s;s=e.matches||e.currentTarget.matches?{...i}:{...o},t.setProps(s)};(()=>{let a;"PC"===RF_GLOBALS.RF_CONFIG.window_state?a={...s,...i}:"SP"===RF_GLOBALS.RF_CONFIG.window_state&&(a={...s,...o}),t=tippy(e,a)})(),new RF_GLOBALS.RfMediaQuery(a,"change")},_=()=>{document.querySelector("#ajax-modal-test").addEventListener("click",(async e=>{if(e.preventDefault(),e.target.classList.contains("--is-loading"))return;e.target.classList.add("--is-loading");const t=new RF_GLOBALS.RfLoader({style:"--bg-black --fixed-center"});await new Promise(((e,t)=>{setTimeout((()=>{e("wait")}),2e3)}));t.removeLoader(),e.target.classList.remove("--is-loading"),RF_GLOBALS.rf_modals.openModal("#sys-dialog-area")}))};(()=>{let e;window.addEventListener("resize",(()=>{requestAnimationFrame((()=>{let e=r("window_state");window.innerWidth<r("breakpoint")&&"PC"===e?n({window_state:"SP"}):window.innerWidth>=r("breakpoint")&&"SP"===e&&n({window_state:"PC"})}))})),window.dispatchEvent(new Event("resize")),window.RF_GLOBALS={...window.RF_GLOBALS,RfLoader:l,RfCheckboxStatus:d,RfCheckBoxCombo:c,RfMediaQuery:E,RfModals:h,rf_modal_madori:m},document.querySelector("[data-js-gnav]")&&(()=>{let e=!1,t=!1,s=null,o=null;const i="gnav-main",a="--is-open",n="jsGnavLv1",l=document.querySelector(`#${i}`),d=document.querySelector("#gnav-btn-open"),c=document.querySelector("[data-js-gnav-close]"),h=document.querySelector("#gnav-sub-container"),m=document.querySelector("[data-js-gnav-sub-container-close]"),p=document.querySelectorAll("[data-js-gnav-sub]"),u=Array.from(p).map((e=>document.querySelector(e.dataset.jsGnavSub))),f=document.querySelectorAll(["[data-js-gnav-sub-close]"]),b=()=>{e=!1,l.classList.remove(a),t=!1,s=null,o=null,h.classList.remove(a),p.forEach((e=>{e.classList.remove(a)})),u.forEach((e=>{e.classList.remove(a)}))},w=()=>{e=!0,l.classList.add(a)};l.addEventListener("click",(e=>{e.target.id===i&&b()})),c.addEventListener("click",(e=>{b()})),d.addEventListener("click",(t=>{e&&l.classList.contains(a)?b():w()})),p.forEach((e=>{e.addEventListener("click",(i=>{const l=e.dataset.jsGnavSub;if(n in e.dataset&&"PC"===r("window_state")){if(t&&o===l)return void b();t&&o!==l&&document.querySelector(o).classList.remove(a),!1===t&&(w(),h.classList.add(a),t=!0)}if(o=l,n in e.dataset&&!0!==t&&"SP"===r("window_state")&&(h.classList.add(a),t=!0),document.querySelector(l).classList.add(a),n in e.dataset){const t=document.querySelector(`[data-js-gnav-lv1=${s}]`);t&&t.classList.remove(a),s=e.dataset[n],e.classList.add(a)}}))})),m.addEventListener("click",(()=>{b()})),f.forEach((e=>{e.addEventListener("click",(()=>{const t=document.querySelector(e.dataset.jsGnavSubClose);t.classList.contains(a)&&t.classList.remove(a)}))}))})(),document.querySelector("[data-js-toggle]")&&p(),document.querySelector("[data-js-pagetop]")&&(()=>{const e=document.querySelector("[data-js-pagetop]");let t;e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}));const s=o=>{t||(t=o-100),
o>=t+100&&(e.classList.toggle("--is-show",window.scrollY>=500),t=o),requestAnimationFrame(s)};requestAnimationFrame(s)})(),document.querySelector("[data-js-today-target]")&&f(),document.querySelector("[data-js-top-banners]")&&u(),document.querySelector("[data-js-prop-slider]")&&b(),document.querySelector("[data-js-related-prop-slider]")&&S(),document.querySelector("[data-js-room-link]")&&(document.querySelectorAll("[data-js-room-link]").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation();const s=t.target;if("A"===s.tagName||"BUTTON"===s.tagName||s.hasAttribute("data-js-madori-modal")||s.closest(".swiper-initialized"))return;const o=e.dataset.jsRoomLink;window.open(o,"_blank")}))})),(()=>{const e="--is-open";let t="";const s=document.querySelectorAll("[data-js-room-toggle]");window.addEventListener("load",(()=>{s.forEach((s=>{const o=document.querySelector(s.dataset.jsRoomToggle),i=document.querySelector(s.dataset.jsRoomParent);("PC"===r("window_state")&&o.scrollHeight<660||"SP"===r("window_state")&&o.scrollHeight<1200)&&s.classList.add("--is-hide"),s.addEventListener("click",(()=>{o.classList.toggle(e),s.classList.toggle(e);const a=o.classList.contains(e);o.style.maxHeight=a?o.scrollHeight+"px":null,"jsRoomToggleText"in s.dataset&&(t=s.textContent,s.textContent=s.dataset.jsRoomToggleText,s.dataset.jsRoomToggleText=t),a||i.scrollIntoView({behavior:"smooth"})}))}))}))})()),document.querySelector("[data-js-buildroom-slide]")&&(e=new w),(document.querySelector("[data-js-modal]")||document.querySelector("[data-js-modal-target]"))&&(RF_GLOBALS.rf_modals=new RF_GLOBALS.RfModals),document.querySelector("[data-js-cta-navi-tel]")&&(()=>{const e=document.querySelector(["[data-js-cta-navi-tel]"]),t=document.querySelector(e.dataset.jsCtaNaviTel);e.addEventListener("click",(()=>{t.classList.toggle("--is-open")}))})(),document.querySelector("[data-js-select-link]")&&document.querySelectorAll("[data-js-select-link]").forEach((e=>{e.addEventListener("change",(e=>{const t=e.target.selectedOptions[0].value;location.href=t}))})),document.querySelector("[data-js-ward-select]")&&g(),document.querySelector("[data-js-result-room-slide]")&&y(),document.querySelector("[data-js-form-checkbox]")&&v(),document.querySelector("[data-js-form-search-area-checkbox]")&&L(),document.querySelector("[data-js-search-change-method]")&&k(),document.querySelector("#ajax-modal-test")&&_(),document.querySelector("[data-js-madori-modal]")&&m()})()}();
//# sourceMappingURL=rf.min.js.map